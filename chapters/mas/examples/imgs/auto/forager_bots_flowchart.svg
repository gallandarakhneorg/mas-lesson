<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<svg
   viewBox="0 0 962 341.17722"
   width="962"
   height="341.17722"
   font-family="Arial, sans-serif"
   version="1.1"
   id="svg164"
   sodipodi:docname="forager_decision_flowchart (1).svg"
   inkscape:version="1.2.2 (b0a8486541, 2022-12-01)"
   xmlns:inkscape="http://www.inkscape.org/namespaces/inkscape"
   xmlns:sodipodi="http://sodipodi.sourceforge.net/DTD/sodipodi-0.dtd"
   xmlns="http://www.w3.org/2000/svg"
   xmlns:svg="http://www.w3.org/2000/svg">
  <sodipodi:namedview
     id="namedview166"
     pagecolor="#ffffff"
     bordercolor="#666666"
     borderopacity="1.0"
     inkscape:showpageshadow="2"
     inkscape:pageopacity="0.0"
     inkscape:pagecheckerboard="0"
     inkscape:deskcolor="#d1d1d1"
     showgrid="false"
     inkscape:zoom="1.1183832"
     inkscape:cx="406.83731"
     inkscape:cy="182.85325"
     inkscape:window-width="1920"
     inkscape:window-height="1011"
     inkscape:window-x="0"
     inkscape:window-y="0"
     inkscape:window-maximized="1"
     inkscape:current-layer="svg164" />
  <polyline
     points="54,366 54,80"
     fill="none"
     stroke="#34495e"
     stroke-width="2"
     id="polyline141-2"
     transform="matrix(1,0,0,1.0339117,383.1408,-77.488938)" />
  <polyline
     points="54,366 54,80"
     fill="none"
     stroke="#34495e"
     stroke-width="2"
     id="polyline141"
     transform="matrix(1,0,0,0.67026139,-8.3949091,-48.588951)" />
  <polyline
     points="54,366 54,80"
     fill="none"
     stroke="#34495e"
     stroke-width="2"
     id="polyline141-3"
     transform="matrix(0,-1,0.34145542,0,18.019709,366.07516)"
     style="fill:#e74c3c;fill-opacity:1;stroke:#e74c3c;stroke-width:2.44291;stroke-dasharray:none;stroke-opacity:1" />
  <polyline
     points="54,366 54,80"
     fill="none"
     stroke="#34495e"
     stroke-width="2"
     id="polyline141-3-5"
     transform="matrix(1,0,0,0.23652524,-8.2405271,225.82158)"
     style="fill:#e74c3c;fill-opacity:1;stroke:#e74c3c;stroke-width:2.44291;stroke-dasharray:none;stroke-opacity:1" />
  <!-- ── Background ── -->
  <!-- ══════════════════════════════════════════════════════════════════
       MARKER DEFINITIONS (arrowheads)
       ══════════════════════════════════════════════════════════════════ -->
  <defs
     id="defs13">
    <marker
       id="arrow"
       markerWidth="10"
       markerHeight="7"
       refX="10"
       refY="3.5"
       orient="auto"
       viewBox="0 0 10 7"
       preserveAspectRatio="xMidYMid">
      <polygon
         points="0,0 10,3.5 0,7 "
         fill="#34495e"
         id="polygon4" />
    </marker>
    <marker
       id="arrow-yes"
       markerWidth="10"
       markerHeight="7"
       refX="10"
       refY="3.5"
       orient="auto"
       viewBox="0 0 10 7"
       preserveAspectRatio="xMidYMid">
      <polygon
         points="0,7 0,0 10,3.5 "
         fill="#27ae60"
         id="polygon7" />
    </marker>
    <marker
       id="arrow-no"
       markerWidth="10"
       markerHeight="7"
       refX="10"
       refY="3.5"
       orient="auto">
      <polygon
         points="10,3.5 0,7 0,0 "
         fill="#e74c3c"
         id="polygon10" />
    </marker>
  </defs>
  <!-- ══════════════════════════════════════════════════════════════════
       NODE STYLES (drawn inline below)
       - Start/End : rounded rect, dark slate
       - Decision  : diamond, blue tones
       - Action    : rectangle, teal / orange tones
       ══════════════════════════════════════════════════════════════════ -->
  <!-- ─────────────────────────────────────────────────────────────────
       ROW 0  —  START  (x=60, y=185)
       ───────────────────────────────────────────────────────────────── -->
  <!-- START → D1 -->
  <line
     x1="201.02042"
     y1="49.551117"
     x2="201.02042"
     y2="79.645424"
     stroke="#34495e"
     stroke-width="1.77984"
     marker-end="url(#arrow)"
     id="line20" />
  <!-- ─────────────────────────────────────────────────────────────────
       D1  —  "Carrying food?"  diamond  (cx=210, cy=190)
       ───────────────────────────────────────────────────────────────── -->
  <g
     id="node-D1"
     transform="translate(-9,-75.854683)">
    <polygon
       points="270,190 210,225 150,190 210,155 "
       fill="#d6eaf8"
       stroke="#2980b9"
       stroke-width="2"
       id="polygon22" />
    <text
       x="210"
       y="186"
       text-anchor="middle"
       font-size="11px"
       font-weight="bold"
       fill="#1a5276"
       id="text24">Carrying</text>
    <text
       x="210"
       y="200"
       text-anchor="middle"
       font-size="11px"
       font-weight="bold"
       fill="#1a5276"
       id="text26">food?</text>
  </g>
  <!-- ─────────────────────────────────────────────────────────────────
       FORAGING BRANCH  (D1 → NO → downward → left side)
       ───────────────────────────────────────────────────────────────── -->
  <!-- D1 → NO → down to D2 -->
  <line
     x1="201"
     y1="149.14532"
     x2="201"
     y2="187.07248"
     stroke="#e74c3c"
     stroke-width="2.14412"
     marker-end="url(#arrow-no)"
     id="line29" />
  <text
     x="216.8311"
     y="170.90823"
     font-size="11px"
     fill="#e74c3c"
     font-weight="bold"
     id="text31">No</text>
  <!-- D2  —  "Food visible?"  (cx=210, cy=300) -->
  <g
     id="node-D2"
     transform="translate(-9,-75.854683)">
    <polygon
       points="280,300 210,337 140,300 210,263 "
       fill="#d6eaf8"
       stroke="#2980b9"
       stroke-width="2"
       id="polygon33" />
    <text
       x="210"
       y="296"
       text-anchor="middle"
       font-size="11px"
       font-weight="bold"
       fill="#1a5276"
       id="text35">Food</text>
    <text
       x="210"
       y="310"
       text-anchor="middle"
       font-size="11px"
       font-weight="bold"
       fill="#1a5276"
       id="text37">visible?</text>
  </g>
  <!-- D2 → YES → right → A-pickup -->
  <line
     x1="271"
     y1="224.14532"
     x2="339"
     y2="224.14532"
     stroke="#27ae60"
     stroke-width="2"
     marker-end="url(#arrow-yes)"
     id="line40" />
  <text
     x="299"
     y="216.14532"
     font-size="11px"
     fill="#27ae60"
     font-weight="bold"
     id="text42">Yes</text>
  <!-- A-pickup  (x=350, y=278, w=120, h=44) -->
  <!-- D2 → NO → down to D3 -->
  <line
     x1="201"
     y1="261.14532"
     x2="201"
     y2="283.41916"
     stroke="#e74c3c"
     stroke-width="1.64312"
     marker-end="url(#arrow-no)"
     id="line51" />
  <text
     x="212.98322"
     y="276.50391"
     font-size="11px"
     fill="#e74c3c"
     font-weight="bold"
     id="text53">No</text>
  <!-- D3  —  "Pheromone nearby?"  (cx=210, cy=388) — flattened diamond -->
  <g
     id="node-D3"
     transform="translate(-9,-75.854683)">
    <polygon
       points="320,388 210,416 100,388 210,360 "
       fill="#d6eaf8"
       stroke="#2980b9"
       stroke-width="2"
       id="polygon55" />
    <text
       x="210"
       y="384"
       text-anchor="middle"
       font-size="11px"
       font-weight="bold"
       fill="#1a5276"
       id="text57">Pheromone</text>
    <text
       x="210"
       y="398"
       text-anchor="middle"
       font-size="11px"
       font-weight="bold"
       fill="#1a5276"
       id="text59">nearby?</text>
  </g>
  <!-- D3 → YES → right → A-follow -->
  <line
     x1="311"
     y1="312.14532"
     x2="341"
     y2="312.14532"
     stroke="#27ae60"
     stroke-width="2"
     marker-end="url(#arrow-yes)"
     id="line62" />
  <text
     x="319"
     y="304.14532"
     font-size="11px"
     fill="#27ae60"
     font-weight="bold"
     id="text64">Yes</text>
  <!-- A-follow  (x=350, y=366, w=128, h=44) -->
  <g
     id="node-follow"
     transform="translate(-9,-75.854683)">
    <rect
       x="350"
       y="366"
       width="128"
       height="44"
       rx="7"
       fill="#d5f5e3"
       stroke="#1e8449"
       stroke-width="2"
       id="rect66" />
    <text
       x="414"
       y="384"
       text-anchor="middle"
       font-size="11px"
       font-weight="bold"
       fill="#145a32"
       id="text68">Follow</text>
    <text
       x="414"
       y="400"
       text-anchor="middle"
       font-size="11px"
       font-weight="bold"
       fill="#145a32"
       id="text70">pheromone trail</text>
  </g>
  <!-- D3 → NO → left → A-random -->
  <line
     x1="45.605091"
     y1="273.07858"
     x2="45.605091"
     y2="233.07858"
     stroke="#e74c3c"
     stroke-width="2"
     marker-end="url(#arrow-no)"
     id="line73" />
  <text
     x="64.441132"
     y="302.95242"
     font-size="11px"
     fill="#e74c3c"
     font-weight="bold"
     id="text75">No</text>
  <!-- A-random  (x=-10 clipped — place at x=10, y=366) -->
  <g
     id="node-random"
     transform="translate(-9,-179.85468)">
    <rect
       x="10"
       y="366"
       width="88"
       height="44"
       rx="7"
       fill="#fde8d8"
       stroke="#d35400"
       stroke-width="2"
       id="rect77" />
    <text
       x="54"
       y="384"
       text-anchor="middle"
       font-size="11px"
       font-weight="bold"
       fill="#784212"
       id="text79">Random</text>
    <text
       x="54"
       y="400"
       text-anchor="middle"
       font-size="11px"
       font-weight="bold"
       fill="#784212"
       id="text81">walk</text>
  </g>
  <!-- ─────────────────────────────────────────────────────────────────
       RETURNING BRANCH  (D1 → YES → right side)
       ───────────────────────────────────────────────────────────────── -->
  <!-- D1 → YES → right → A-move-nest -->
  <line
     x1="261"
     y1="114.14532"
     x2="521"
     y2="114.14532"
     stroke="#27ae60"
     stroke-width="2"
     marker-end="url(#arrow-yes)"
     id="line84" />
  <text
     x="383"
     y="106.14532"
     font-size="11px"
     fill="#27ae60"
     font-weight="bold"
     id="text86">Yes</text>
  <!-- A-move-nest  (x=532, y=168, w=140, h=44) -->
  <g
     id="node-move-nest"
     transform="translate(-9,-75.854683)">
    <rect
       x="532"
       y="168"
       width="148"
       height="44"
       rx="7"
       fill="#fde8d8"
       stroke="#d35400"
       stroke-width="2"
       id="rect88" />
    <text
       x="606"
       y="186"
       text-anchor="middle"
       font-size="11px"
       font-weight="bold"
       fill="#784212"
       id="text90">Move towards</text>
    <text
       x="606"
       y="202"
       text-anchor="middle"
       font-size="11px"
       font-weight="bold"
       fill="#784212"
       id="text92">nest</text>
  </g>
  <!-- A-move-nest → A-deposit-phero -->
  <line
     x1="597"
     y1="136.14532"
     x2="597"
     y2="172.14532"
     stroke="#34495e"
     stroke-width="2"
     marker-end="url(#arrow)"
     id="line95" />
  <!-- A-deposit-phero  (x=532, y=250, w=148, h=44) -->
  <g
     id="node-deposit"
     transform="translate(-9,-75.854683)">
    <rect
       x="532"
       y="250"
       width="148"
       height="44"
       rx="7"
       fill="#fde8d8"
       stroke="#d35400"
       stroke-width="2"
       id="rect97" />
    <text
       x="606"
       y="268"
       text-anchor="middle"
       font-size="11px"
       font-weight="bold"
       fill="#784212"
       id="text99">Deposit</text>
    <text
       x="606"
       y="284"
       text-anchor="middle"
       font-size="11px"
       font-weight="bold"
       fill="#784212"
       id="text101">pheromone</text>
  </g>
  <!-- A-deposit-phero → D4 -->
  <line
     x1="597"
     y1="218.14532"
     x2="597"
     y2="254.14532"
     stroke="#34495e"
     stroke-width="2"
     marker-end="url(#arrow)"
     id="line104" />
  <!-- D4  —  "At nest?"  (cx=606, cy=358) -->
  <g
     id="node-D4"
     transform="translate(-9,-75.854683)">
    <polygon
       points="682,358 606,393 530,358 606,323 "
       fill="#d6eaf8"
       stroke="#2980b9"
       stroke-width="2"
       id="polygon106" />
    <text
       x="606"
       y="354"
       text-anchor="middle"
       font-size="11px"
       font-weight="bold"
       fill="#1a5276"
       id="text108">At</text>
    <text
       x="606"
       y="368"
       text-anchor="middle"
       font-size="11px"
       font-weight="bold"
       fill="#1a5276"
       id="text110">nest?</text>
  </g>
  <!-- D4 → YES → right → A-drop -->
  <line
     x1="673"
     y1="282.14532"
     x2="741"
     y2="282.14532"
     stroke="#27ae60"
     stroke-width="2"
     marker-end="url(#arrow-yes)"
     id="line113" />
  <text
     x="697"
     y="274.14532"
     font-size="11px"
     fill="#27ae60"
     font-weight="bold"
     id="text115">Yes</text>
  <!-- A-drop  (x=752, y=336, w=120, h=44) -->
  <g
     id="node-drop"
     transform="translate(-9,-75.854683)">
    <rect
       x="752"
       y="336"
       width="128"
       height="44"
       rx="7"
       fill="#d5f5e3"
       stroke="#1e8449"
       stroke-width="2"
       id="rect117" />
    <text
       x="816"
       y="354"
       text-anchor="middle"
       font-size="11px"
       font-weight="bold"
       fill="#145a32"
       id="text119">Drop food</text>
    <text
       x="816"
       y="370"
       text-anchor="middle"
       font-size="11px"
       font-weight="bold"
       fill="#145a32"
       id="text121">at nest</text>
  </g>
  <!-- D4 → NO → left feedback loop back to A-move-nest -->
  <!-- go left from D4 to x=490, then up to y=190, then right to A-move-nest -->
  <polyline
     points="530,358 490,358 490,190 530,190"
     fill="none"
     stroke="#e74c3c"
     stroke-width="2"
     marker-end="url(#arrow-no)"
     id="polyline124"
     transform="matrix(0.85736624,0,0,0.90417383,66.573879,-41.419459)" />
  <text
     x="-264.89941"
     y="500.79507"
     font-size="11px"
     fill="#e74c3c"
     font-weight="bold"
     transform="rotate(-90)"
     id="text126">No — keep moving</text>
  <!-- ─────────────────────────────────────────────────────────────────
       UPDATE STATE node — all action branches converge here
       placed at (816, 168)
       ───────────────────────────────────────────────────────────────── -->
  <!-- A-drop → A-update (up) -->
  <line
     x1="807"
     y1="260.14532"
     x2="807"
     y2="136.14532"
     stroke="#34495e"
     stroke-width="2"
     marker-end="url(#arrow)"
     id="line128" />
  <!-- A-update  (x=752, y=168, w=128, h=44) -->
  <g
     id="node-update"
     transform="translate(-9,-75.854683)">
    <rect
       x="752"
       y="168"
       width="128"
       height="44"
       rx="7"
       fill="#e8daef"
       stroke="#7d3c98"
       stroke-width="2"
       id="rect130" />
    <text
       x="816"
       y="186"
       text-anchor="middle"
       font-size="11px"
       font-weight="bold"
       fill="#4a235a"
       id="text132">Update</text>
    <text
       x="816"
       y="202"
       text-anchor="middle"
       font-size="11px"
       font-weight="bold"
       fill="#4a235a"
       id="text134">internal state</text>
  </g>
  <!-- ─────────────────────────────────────────────────────────────────
       FORAGING ACTIONS → A-update  convergence
       All three foraging actions (pickup, follow, random) feed
       into A-update via a horizontal bus at y=80
       ───────────────────────────────────────────────────────────────── -->
  <!-- A-pickup → up to y=80, then right to x=880, then down to A-update -->
  <polyline
     points="414,278 414,80 880,80 880,168"
     fill="none"
     stroke="#34495e"
     stroke-width="2"
     marker-end="url(#arrow)"
     id="polyline137"
     transform="matrix(0.86606269,0,0,1.0009936,46.408068,-76.03204)" />
  <!-- A-follow → up to y=80 (shared bus) -->
  <!-- (already routed through pickup node upward) -->
  <!-- A-random → up to y=80 -->
  <!-- connect to the horizontal bus -->
  <line
     x1="45"
     y1="4.1453171"
     x2="405"
     y2="4.1453171"
     stroke="#34495e"
     stroke-width="1.5"
     id="line143" />
  <!-- small dot on bus junctions -->
  <circle
     cx="405"
     cy="4.1453171"
     r="4"
     fill="#34495e"
     id="circle145" />
  <circle
     cx="45"
     cy="4.1453171"
     r="4"
     fill="#34495e"
     id="circle147" />
  <circle
     cx="436.97162"
     cy="4"
     r="4"
     fill="#34495e"
     id="circle147-6" />
  <!-- ─────────────────────────────────────────────────────────────────
       A-update → END
       ───────────────────────────────────────────────────────────────── -->
  <line
     x1="871"
     y1="114.14532"
     x2="911"
     y2="114.14532"
     stroke="#34495e"
     stroke-width="2"
     marker-end="url(#arrow)"
     id="line149" />
  <!-- END node -->
  <g
     id="node-end"
     transform="translate(-9,-53.854683)">
    <rect
       x="922"
       y="148"
       width="48"
       height="40"
       rx="20"
       fill="#2c3e50"
       stroke="#1a252f"
       stroke-width="2"
       id="rect151" />
    <text
       x="946"
       y="172"
       text-anchor="middle"
       font-size="11px"
       font-weight="bold"
       fill="#ffffff"
       id="text153">END</text>
  </g>
  <!-- ─────────────────────────────────────────────────────────────────
       LANE LABELS (background separators)
       ───────────────────────────────────────────────────────────────── -->
  <!-- Foraging lane label -->
  <!-- Returning lane label -->
  <g
     id="node-start"
     transform="translate(136.12989,-157.83629)">
    <rect
       x="20"
       y="170"
       width="90"
       height="40"
       rx="20"
       fill="#2c3e50"
       stroke="#1a252f"
       stroke-width="2"
       id="rect15" />
    <text
       x="65"
       y="195"
       text-anchor="middle"
       font-size="13px"
       font-weight="bold"
       fill="#ffffff"
       id="text17">START</text>
  </g>
  <g
     id="node-pickup"
     transform="translate(-9,-75.854683)">
    <rect
       x="350"
       y="278"
       width="128"
       height="44"
       rx="7"
       fill="#d5f5e3"
       stroke="#1e8449"
       stroke-width="2"
       id="rect44" />
    <text
       x="414"
       y="296"
       text-anchor="middle"
       font-size="11px"
       font-weight="bold"
       fill="#145a32"
       id="text46">Move to food</text>
    <text
       x="414"
       y="312"
       text-anchor="middle"
       font-size="11px"
       font-weight="bold"
       fill="#145a32"
       id="text48">&amp; pick up</text>
  </g>
</svg>
