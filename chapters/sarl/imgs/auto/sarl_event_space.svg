<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<svg
   viewBox="0 0 632 243.64"
   width="632"
   height="243.64"
   version="1.1"
   id="svg53"
   sodipodi:docname="fig_event_space.svg"
   inkscape:version="1.2.2 (b0a8486541, 2022-12-01)"
   xmlns:inkscape="http://www.inkscape.org/namespaces/inkscape"
   xmlns:sodipodi="http://sodipodi.sourceforge.net/DTD/sodipodi-0.dtd"
   xmlns="http://www.w3.org/2000/svg"
   xmlns:svg="http://www.w3.org/2000/svg">
  <sodipodi:namedview
     id="namedview55"
     pagecolor="#ffffff"
     bordercolor="#666666"
     borderopacity="1.0"
     inkscape:showpageshadow="2"
     inkscape:pageopacity="0.0"
     inkscape:pagecheckerboard="0"
     inkscape:deskcolor="#d1d1d1"
     showgrid="false"
     inkscape:zoom="1.5657364"
     inkscape:cx="321.25458"
     inkscape:cy="111.44915"
     inkscape:window-width="1920"
     inkscape:window-height="1011"
     inkscape:window-x="0"
     inkscape:window-y="0"
     inkscape:window-maximized="1"
     inkscape:current-layer="svg53" />
  <!-- EventSpace ellipse -->
  <ellipse
     cx="321"
     cy="111"
     rx="200"
     ry="100"
     fill="#e3f0ff"
     stroke="#005aaa"
     stroke-width="2.5"
     id="ellipse4" />
  <text
     x="321"
     y="41"
     font-family="sans-serif"
     font-size="15px"
     font-weight="bold"
     fill="#005aaa"
     text-anchor="middle"
     id="text6">EventSpace</text>
  <!-- Scope label inside -->
  <rect
     x="251"
     y="86"
     width="140"
     height="30"
     rx="8"
     fill="#b8d9f8"
     stroke="#005aaa"
     stroke-width="1"
     id="rect8" />
  <text
     x="321"
     y="106"
     font-family="sans-serif"
     font-size="12px"
     fill="#003366"
     text-anchor="middle"
     id="text10">Scope (filter)</text>
  <!-- Agent 1 - left -->
  <rect
     x="1"
     y="71"
     width="110"
     height="80"
     rx="8"
     fill="#fff3e0"
     stroke="#e65100"
     stroke-width="2"
     id="rect12" />
  <text
     x="56"
     y="109"
     font-family="sans-serif"
     font-size="13px"
     font-weight="bold"
     fill="#e65100"
     text-anchor="middle"
     id="text14">Agent 1</text>
  <text
     x="56"
     y="126"
     font-family="sans-serif"
     font-size="10px"
     fill="#555555"
     text-anchor="middle"
     id="text16">emit(ev, scope)</text>
  <!-- Agent 2 - top right -->
  <rect
     x="511"
     y="1"
     width="120"
     height="70"
     rx="8"
     fill="#e8f5e9"
     stroke="#2e7d32"
     stroke-width="2"
     id="rect18" />
  <text
     x="571"
     y="36"
     font-family="sans-serif"
     font-size="13px"
     font-weight="bold"
     fill="#2e7d32"
     text-anchor="middle"
     id="text20">Agent 2</text>
  <text
     x="571"
     y="53"
     font-family="sans-serif"
     font-size="10px"
     fill="#555555"
     text-anchor="middle"
     id="text22">on MyEvent</text>
  <!-- Agent 3 - bottom right -->
  <rect
     x="511"
     y="151"
     width="120"
     height="70"
     rx="8"
     fill="#fce4ec"
     stroke="#880e4f"
     stroke-width="2"
     id="rect24" />
  <text
     x="571"
     y="186"
     font-family="sans-serif"
     font-size="13px"
     font-weight="bold"
     fill="#880e4f"
     text-anchor="middle"
     id="text26">Agent 3</text>
  <text
     x="571"
     y="203"
     font-family="sans-serif"
     font-size="10px"
     fill="#555555"
     text-anchor="middle"
     id="text28">on MyEvent</text>
  <!-- Arrows -->
  <defs
     id="defs39">
    <marker
       id="arr1"
       markerWidth="8"
       markerHeight="8"
       refX="6"
       refY="3"
       orient="auto">
      <path
         d="M 0,0 V 6 L 8,3 Z"
         fill="#e65100"
         id="path30" />
    </marker>
    <marker
       id="arr2"
       markerWidth="8"
       markerHeight="8"
       refX="6"
       refY="3"
       orient="auto">
      <path
         d="M 0,0 V 6 L 8,3 Z"
         fill="#2e7d32"
         id="path33" />
    </marker>
    <marker
       id="arr3"
       markerWidth="8"
       markerHeight="8"
       refX="6"
       refY="3"
       orient="auto">
      <path
         d="M 0,0 V 6 L 8,3 Z"
         fill="#880e4f"
         id="path36" />
    </marker>
  </defs>
  <!-- emit arrow -->
  <line
     x1="112"
     y1="111"
     x2="119"
     y2="111"
     stroke="#e65100"
     stroke-width="2"
     marker-end="url(#arr1)"
     id="line41" />
  <path
     d="m 112,111 c 34,0 59,0 9,0"
     fill="none"
     stroke="#e65100"
     stroke-width="2"
     id="path43" />
  <line
     x1="111"
     y1="111"
     x2="171"
     y2="111"
     stroke="#e65100"
     stroke-width="2"
     marker-end="url(#arr1)"
     id="line45" />
  <!-- Delivery to matching agents -->
  <line
     x1="471"
     y1="81"
     x2="511"
     y2="41"
     stroke="#2e7d32"
     stroke-width="1.8"
     stroke-dasharray="5, 3"
     marker-end="url(#arr2)"
     id="line47" />
  <line
     x1="471"
     y1="141"
     x2="511"
     y2="181"
     stroke="#880e4f"
     stroke-width="1.8"
     stroke-dasharray="5, 3"
     marker-end="url(#arr3)"
     id="line49" />
  <!-- scope note -->
  <text
     x="321"
     y="241"
     font-family="sans-serif"
     font-size="11px"
     fill="#888888"
     text-anchor="middle"
     id="text51">Only agents matching the Scope receive the event</text>
</svg>
