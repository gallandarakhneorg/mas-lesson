<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<svg
   viewBox="0 0 441.5 495.5"
   width="441.5"
   height="495.5"
   font-family="'Segoe UI', Arial, sans-serif"
   version="1.1"
   id="svg116"
   sodipodi:docname="multilevel_dynamic.svg"
   inkscape:version="1.2.2 (b0a8486541, 2022-12-01)"
   xmlns:inkscape="http://www.inkscape.org/namespaces/inkscape"
   xmlns:sodipodi="http://sodipodi.sourceforge.net/DTD/sodipodi-0.dtd"
   xmlns="http://www.w3.org/2000/svg"
   xmlns:svg="http://www.w3.org/2000/svg">
  <sodipodi:namedview
     id="namedview118"
     pagecolor="#ffffff"
     bordercolor="#666666"
     borderopacity="1.0"
     inkscape:showpageshadow="2"
     inkscape:pageopacity="0.0"
     inkscape:pagecheckerboard="0"
     inkscape:deskcolor="#d1d1d1"
     showgrid="false"
     inkscape:zoom="1.3080645"
     inkscape:cx="220.93712"
     inkscape:cy="251.89889"
     inkscape:window-width="1920"
     inkscape:window-height="1011"
     inkscape:window-x="0"
     inkscape:window-y="0"
     inkscape:window-maximized="1"
     inkscape:current-layer="svg116" />
  <!-- Background -->
  <defs
     id="defs16">
    <!-- Arrow markers -->
    <marker
       id="da-arr"
       markerWidth="10"
       markerHeight="7"
       refX="9"
       refY="3.5"
       orient="auto">
      <polygon
         points="10,3.5 0,7 0,0 "
         fill="#555e75"
         id="polygon4" />
    </marker>
    <marker
       id="da-arr-up"
       markerWidth="10"
       markerHeight="7"
       refX="9"
       refY="3.5"
       orient="auto">
      <polygon
         points="10,3.5 0,7 0,0 "
         fill="#e05c3a"
         id="polygon7" />
    </marker>
    <marker
       id="da-arr-dn"
       markerWidth="10"
       markerHeight="7"
       refX="9"
       refY="3.5"
       orient="auto">
      <polygon
         points="10,3.5 0,7 0,0 "
         fill="#4a90d9"
         id="polygon10" />
    </marker>
    <!-- Clip for the unified model box interior -->
  </defs>
  <!-- ══════════════════════════════════════════════════════════ -->
  <!-- UNIFIED ADAPTIVE MODEL — outer container                  -->
  <!-- ═══════════════════════════════════════════════════���══════ -->
  <rect
     x="40.75"
     y="90.75"
     width="360"
     height="290"
     rx="14"
     fill="#ffffff"
     stroke="#2c3e6b"
     stroke-width="2.5"
     stroke-dasharray="10, 5"
     id="rect18" />
  <!-- Inner zone: Macro region -->
  <rect
     x="60.75"
     y="108.75"
     width="320"
     height="80"
     rx="9"
     fill="#e05c3a"
     opacity="0.1"
     stroke="#e05c3a"
     stroke-width="1.5"
     id="rect20" />
  <text
     x="220.75"
     y="140.75"
     text-anchor="middle"
     font-size="13px"
     font-weight="bold"
     fill="#b84020"
     id="text22">Macroscopic zone</text>
  <!-- Macro field icon -->
  <ellipse
     cx="220.75"
     cy="162.75"
     rx="65"
     ry="14"
     fill="#e05c3a"
     opacity="0.5"
     stroke="#e05c3a"
     stroke-width="1"
     id="ellipse24" />
  <ellipse
     cx="220.75"
     cy="162.75"
     rx="38"
     ry="8"
     fill="none"
     stroke="#e05c3a"
     stroke-width="1"
     opacity="0.35"
     id="ellipse26" />
  <!-- Inner zone: Meso region -->
  <rect
     x="60.75"
     y="203.75"
     width="140"
     height="75"
     rx="9"
     fill="#9b5fc0"
     opacity="0.1"
     stroke="#9b5fc0"
     stroke-width="1.5"
     id="rect28" />
  <text
     x="130.75"
     y="225.75"
     text-anchor="middle"
     font-size="12px"
     font-weight="bold"
     fill="#6e3a92"
     id="text30">Meso zone</text>
  <circle
     cx="110.75"
     cy="252.75"
     r="11"
     fill="#9b5fc0"
     opacity="0.12"
     stroke="#9b5fc0"
     stroke-width="1.2"
     id="circle32" />
  <circle
     cx="106.75"
     cy="249.75"
     r="4"
     fill="#9b5fc0"
     opacity="0.6"
     id="circle34" />
  <circle
     cx="114.75"
     cy="256.75"
     r="4"
     fill="#9b5fc0"
     opacity="0.6"
     id="circle36" />
  <circle
     cx="150.75"
     cy="252.75"
     r="11"
     fill="#9b5fc0"
     opacity="0.12"
     stroke="#9b5fc0"
     stroke-width="1.2"
     id="circle38" />
  <circle
     cx="146.75"
     cy="249.75"
     r="4"
     fill="#9b5fc0"
     opacity="0.6"
     id="circle40" />
  <circle
     cx="154.75"
     cy="256.75"
     r="4"
     fill="#9b5fc0"
     opacity="0.6"
     id="circle42" />
  <!-- Inner zone: Micro region -->
  <rect
     x="220.75"
     y="203.75"
     width="140"
     height="75"
     rx="9"
     fill="#4a90d9"
     opacity="0.1"
     stroke="#4a90d9"
     stroke-width="1.5"
     id="rect44" />
  <text
     x="290.75"
     y="225.75"
     text-anchor="middle"
     font-size="12px"
     font-weight="bold"
     fill="#2c6fad"
     id="text46">Micro zone</text>
  <!-- Micro agents -->
  <circle
     cx="252.75"
     cy="251.75"
     r="5"
     fill="#4a90d9"
     opacity="0.8"
     id="circle48" />
  <circle
     cx="271.75"
     cy="245.75"
     r="5"
     fill="#4a90d9"
     opacity="0.8"
     id="circle50" />
  <circle
     cx="292.75"
     cy="254.75"
     r="5"
     fill="#4a90d9"
     opacity="0.8"
     id="circle52" />
  <circle
     cx="312.75"
     cy="246.75"
     r="5"
     fill="#4a90d9"
     opacity="0.8"
     id="circle54" />
  <circle
     cx="330.75"
     cy="253.75"
     r="5"
     fill="#4a90d9"
     opacity="0.8"
     id="circle56" />
  <line
     x1="258.75"
     y1="250.75"
     x2="264.75"
     y2="247.75"
     stroke="#2c6fad"
     stroke-width="1.2"
     marker-end="url(#da-arr)"
     opacity="0.5"
     id="line58" />
  <line
     x1="277.75"
     y1="247.75"
     x2="285.75"
     y2="251.75"
     stroke="#2c6fad"
     stroke-width="1.2"
     marker-end="url(#da-arr)"
     opacity="0.5"
     id="line60" />
  <line
     x1="299.75"
     y1="252.75"
     x2="305.75"
     y2="248.75"
     stroke="#2c6fad"
     stroke-width="1.2"
     marker-end="url(#da-arr)"
     opacity="0.5"
     id="line62" />
  <line
     x1="318.75"
     y1="248.75"
     x2="324.75"
     y2="251.75"
     stroke="#2c6fad"
     stroke-width="1.2"
     marker-end="url(#da-arr)"
     opacity="0.5"
     id="line64" />
  <!-- Border between meso and micro zones inside model -->
  <line
     x1="202.75"
     y1="203.75"
     x2="202.75"
     y2="278.75"
     stroke="#2c3e6b"
     stroke-width="1.2"
     stroke-dasharray="4, 3"
     opacity="0.3"
     id="line66" />
  <!-- ══════════════════════════════════════════════════════════ -->
  <!-- CRITERIA / DECISION ENGINE — central diamond              -->
  <!-- ══════════════════════════════════════════════════════════ -->
  <polygon
     points="240,435 182,400 240,365 298,400 "
     fill="#2c3e6b"
     opacity="0.9"
     stroke="#1a2545"
     stroke-width="2"
     id="polygon68"
     transform="translate(-19.25,-59.25)" />
  <text
     x="220.75"
     y="336.75"
     text-anchor="middle"
     font-size="12px"
     font-weight="bold"
     fill="#ffffff"
     id="text70">Scale</text>
  <text
     x="220.75"
     y="353.75"
     text-anchor="middle"
     font-size="12px"
     font-weight="bold"
     fill="#ffffff"
     id="text72">Selector</text>
  <!-- ══════════════════════════════════════════════════════════ -->
  <!-- CRITERIA boxes (flanking the diamond)                     -->
  <!-- ══════════════════════════════════════════════════════════ -->
  <!-- Left criterion -->
  <rect
     x="0.75"
     y="325.75"
     width="120"
     height="46"
     rx="8"
     fill="#f0f4ff"
     stroke="#2c3e6b"
     stroke-width="1.5"
     id="rect74" />
  <text
     x="60.75"
     y="344.75"
     text-anchor="middle"
     font-size="11px"
     fill="#2c3e6b"
     font-weight="bold"
     id="text76">Criteria</text>
  <text
     x="60.75"
     y="360.75"
     text-anchor="middle"
     font-size="10px"
     fill="#555555"
     id="text78">density · error</text>
  <line
     x1="121.75"
     y1="348.75"
     x2="160.75"
     y2="344.75"
     stroke="#2c3e6b"
     stroke-width="1.5"
     stroke-dasharray="4, 3"
     marker-end="url(#da-arr)"
     id="line80" />
  <!-- Right criterion -->
  <rect
     x="320.75"
     y="325.75"
     width="120"
     height="46"
     rx="8"
     fill="#f0f4ff"
     stroke="#2c3e6b"
     stroke-width="1.5"
     id="rect82" />
  <text
     x="380.75"
     y="344.75"
     text-anchor="middle"
     font-size="11px"
     fill="#2c3e6b"
     font-weight="bold"
     id="text84">Constraints</text>
  <text
     x="380.75"
     y="360.75"
     text-anchor="middle"
     font-size="10px"
     fill="#555555"
     id="text86">cost · time limit</text>
  <line
     x1="320.75"
     y1="348.75"
     x2="280.75"
     y2="344.75"
     stroke="#2c3e6b"
     stroke-width="1.5"
     stroke-dasharray="4, 3"
     marker-end="url(#da-arr)"
     id="line88" />
  <!-- ══════════════════════════════════════════════════════════ -->
  <!-- UPWARD arrow: selector → model (refine = go finer)       -->
  <!-- ══════════════════════════════════════════════════════════ -->
  <line
     x1="190.75"
     y1="304.75"
     x2="172.75"
     y2="282.75"
     stroke="#4a90d9"
     stroke-width="2.2"
     marker-end="url(#da-arr-dn)"
     id="line90" />
  <text
     x="148.75"
     y="298.75"
     text-anchor="middle"
     font-size="11px"
     fill="#2c6fad"
     font-style="italic"
     id="text92">refine</text>
  <!-- ══════════════════════════════════════════════════════════ -->
  <!-- UPWARD arrow: selector → model (coarsen = go coarser)    -->
  <!-- ══════════════════════════════════════════════════════════ -->
  <line
     x1="250.75"
     y1="304.75"
     x2="268.75"
     y2="282.75"
     stroke="#e05c3a"
     stroke-width="2.2"
     marker-end="url(#da-arr-up)"
     id="line94" />
  <text
     x="298.75"
     y="298.75"
     text-anchor="middle"
     font-size="11px"
     fill="#b84020"
     font-style="italic"
     id="text96">coarsen</text>
  <!-- ══════════════════════════════════════════════════════════ -->
  <!-- DOWNWARD arrow: model state → selector (observe)         -->
  <!-- ══════════════════════════════════════════════════════════ -->
  <path
     d="m 220.75,380.75 v 30 q 0,20 0,20"
     stroke="#555e75"
     stroke-width="1.8"
     fill="none"
     stroke-dasharray="5, 3"
     marker-end="url(#da-arr)"
     id="path98" />
  <!-- ══════════════════════════════════════════════════════════ -->
  <!-- ENVIRONMENT / INPUT (top)                                 -->
  <!-- ══════════════════════════════════════════════════════════ -->
  <rect
     x="135.75"
     y="0.75"
     width="170"
     height="44"
     rx="9"
     fill="#e8edf5"
     stroke="#b0bcd0"
     stroke-width="1.5"
     id="rect100" />
  <text
     x="220.75"
     y="26.75"
     text-anchor="middle"
     font-size="13px"
     fill="#3a4a6b"
     font-weight="bold"
     id="text102">Environment / Input</text>
  <line
     x1="220.75"
     y1="44.75"
     x2="220.75"
     y2="88.75"
     stroke="#555e75"
     stroke-width="2"
     marker-end="url(#da-arr)"
     id="line104" />
  <!-- ══════════════════════════════════════════════════════════ -->
  <!-- OUTPUT (bottom)                                           -->
  <!-- ══════════════════════════════════════════════════════════ -->
  <rect
     x="135.75"
     y="450.75"
     width="170"
     height="44"
     rx="9"
     fill="#e8edf5"
     stroke="#b0bcd0"
     stroke-width="1.5"
     id="rect106" />
  <text
     x="220.75"
     y="476.75"
     text-anchor="middle"
     font-size="13px"
     fill="#3a4a6b"
     font-weight="bold"
     id="text108">Simulation Output</text>
  <line
     x1="220.75"
     y1="430.75"
     x2="220.75"
     y2="448.75"
     stroke="#555e75"
     stroke-width="2"
     marker-end="url(#da-arr)"
     id="line110" />
  <!-- ══════════════════════════════════════════════════════════ -->
  <!-- Adaptive model outer label                                -->
  <!-- ══════════════════════════════════════════════════════════ -->
  <text
     x="219.43304"
     y="103.85284"
     text-anchor="middle"
     font-size="12px"
     fill="#2c3e6b"
     font-style="italic"
     opacity="0.7"
     id="text112">adaptive multilevel model</text>
  <!-- Dashed brace around the full adaptive block -->
</svg>
