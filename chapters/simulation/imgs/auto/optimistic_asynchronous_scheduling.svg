<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<svg
   width="665.98633"
   height="388.99384"
   font-family="Arial, sans-serif"
   font-size="13px"
   version="1.1"
   id="svg253"
   sodipodi:docname="optimistic_asynchronous_scheduling.svg"
   inkscape:version="1.2.2 (b0a8486541, 2022-12-01)"
   xmlns:inkscape="http://www.inkscape.org/namespaces/inkscape"
   xmlns:sodipodi="http://sodipodi.sourceforge.net/DTD/sodipodi-0.dtd"
   xmlns:xlink="http://www.w3.org/1999/xlink"
   xmlns="http://www.w3.org/2000/svg"
   xmlns:svg="http://www.w3.org/2000/svg">
  <sodipodi:namedview
     id="namedview255"
     pagecolor="#ffffff"
     bordercolor="#666666"
     borderopacity="1.0"
     inkscape:showpageshadow="2"
     inkscape:pageopacity="0.0"
     inkscape:pagecheckerboard="0"
     inkscape:deskcolor="#d1d1d1"
     showgrid="false"
     inkscape:zoom="1.1469272"
     inkscape:cx="434.20367"
     inkscape:cy="225.38484"
     inkscape:window-width="1920"
     inkscape:window-height="1011"
     inkscape:window-x="0"
     inkscape:window-y="0"
     inkscape:window-maximized="1"
     inkscape:current-layer="layer1" />
  <!-- Background -->
  <!-- ===================== DEFS ===================== -->
  <defs
     id="defs31">
    <pattern
       inkscape:collect="always"
       xlink:href="#cancel-hatch"
       id="pattern7697"
       patternTransform="matrix(0.69998892,1.4053208,-0.69998892,1.4053208,1.5099273,-306.40337)" />
    <pattern
       inkscape:collect="always"
       xlink:href="#cancel-hatch"
       id="pattern7614"
       patternTransform="matrix(0.69993427,1.4116318,-0.69993427,1.4116318,3.7530796,-149.14801)" />
    <marker
       id="arr-dark"
       markerWidth="8"
       markerHeight="8"
       refX="6"
       refY="4"
       orient="auto">
      <path
         d="M 0,0 V 8 L 8,4 Z"
         fill="#333333"
         id="path4" />
    </marker>
    <marker
       id="arr-blue"
       markerWidth="8"
       markerHeight="8"
       refX="6"
       refY="4"
       orient="auto">
      <path
         d="M 0,0 V 8 L 8,4 Z"
         fill="#4a90d9"
         id="path7" />
    </marker>
    <marker
       id="arr-orange"
       markerWidth="8"
       markerHeight="8"
       refX="6"
       refY="4"
       orient="auto">
      <path
         d="M 0,0 V 8 L 8,4 Z"
         fill="#e07b39"
         id="path10" />
    </marker>
    <marker
       id="arr-green"
       markerWidth="8"
       markerHeight="8"
       refX="6"
       refY="4"
       orient="auto">
      <path
         d="M 0,0 V 8 L 8,4 Z"
         fill="#5ab05a"
         id="path13" />
    </marker>
    <marker
       id="arr-red"
       markerWidth="8"
       markerHeight="8"
       refX="6"
       refY="4"
       orient="auto">
      <path
         d="M 0,0 V 8 L 8,4 Z"
         fill="#cc2222"
         id="path19" />
    </marker>
    <!-- Strikethrough / cancel pattern -->
    <pattern
       id="cancel-hatch"
       patternUnits="userSpaceOnUse"
       width="6"
       height="6"
       patternTransform="rotate(45)">
      <line
         x1="0"
         y1="0"
         x2="0"
         y2="6"
         stroke="#cc2222"
         stroke-width="1.2"
         stroke-opacity="0.35"
         id="line28" />
    </pattern>
    <marker
       id="arr-orange-7"
       markerWidth="8"
       markerHeight="8"
       refX="6"
       refY="4"
       orient="auto">
      <path
         d="M 0,0 V 8 L 8,4 Z"
         fill="#e07b39"
         id="path10-5" />
    </marker>
  </defs>
  <!-- ===================== TIME AXIS ===================== -->
  <!-- Time ticks -->
  <!-- Horizontal guide lines -->
  <!-- ===================== COLUMN HEADERS ===================== -->
  <!-- ============================================================ -->
  <!--           PHASE 1: NORMAL FAST PROGRESSION (t=0 → t=3)      -->
  <!-- ============================================================ -->
  <!-- AGENT A: runs fast t=0 → t=3 -->
  <!-- small step labels -->
  <!-- AGENT B: runs at medium speed t=0 → t=2 (then receives stale msg) -->
  <!-- AGENT C: runs very fast t=0 → t=3 -->
  <!-- ENVIRONMENT: runs at t=0 and t=1 freely -->
  <!-- ============================================================ -->
  <!--   LATE MESSAGE FROM C TO B WITH TIMESTAMP t=1 (causality!)  -->
  <!-- ============================================================ -->
  <!-- Late message arrow: C at t=3 sends a message timestamped t=1 to B -->
  <!-- Diagonal arrow from C (t=3, y=310) to B (y=230, x=370) -->
  <!-- This message arrives at B which is already at t=2 → causality violation -->
  <!-- Label on the late message -->
  <!-- ============================================================ -->
  <!--            CAUSALITY VIOLATION DETECTED AT B                 -->
  <!-- ============================================================ -->
  <!-- Bang / alert symbol at B's current position t=2 -->
  <!-- Annotation box -->
  <!-- ============================================================ -->
  <!--        CANCELLED ZONE: B must rollback t=2 → t=1            -->
  <!-- ============================================================ -->
  <!-- Cancelled region for B between t=1 and t=2 (strikethrough box) -->
  <!-- Rollback arrow for B: going UP from t=2 back to t=1 -->
  <!-- ============================================================ -->
  <!--    CASCADING ROLLBACK: A also used B's t=2 output            -->
  <!-- Because A interacted with B at t=2, A must also rollback     -->
  <!-- ============================================================ -->
  <!-- Interaction arrow A ↔ B at t=2 (normal forward run) -->
  <!-- Cancelled region for A between t=2 and t=3 -->
  <!-- Rollback arrow for A: going UP from t=3 to t=2 -->
  <!-- Cascade notification arrow from B rollback to A -->
  <!-- ============================================================ -->
  <!--     ALL AGENTS BACK AT t=1: RESTART FROM t=1                 -->
  <!-- ============================================================ -->
  <!-- Restart marker at t=1 for A -->
  <!-- Restart marker at t=1 for B -->
  <!-- Restart label -->
  <!-- ============================================================ -->
  <!--         PHASE 2: RESUMED FAST PROGRESSION (t=1 → t=4)        -->
  <!-- ============================================================ -->
  <!-- AGENT A: resumes from t=1, runs to t=4 -->
  <!-- AGENT B: resumes from t=1, runs to t=4 (now with correct info) -->
  <!-- AGENT C: was not affected, continues from t=3 to t=4 -->
  <!-- ENVIRONMENT: also resumes -->
  <!-- ============================================================ -->
  <!--      PHASE LABELS (left margin annotations)                   -->
  <!-- ============================================================ -->
  <!-- Phase 1 brace area -->
  <!-- Rollback zone -->
  <!-- Restart/resume zone -->
  <!-- ============================================================ -->
  <!--         BOTTOM ANNOTATION BOX                                 -->
  <!-- ============================================================ -->
  <g
     inkscape:groupmode="layer"
     id="layer1"
     inkscape:label="base &lt;1-&gt;"
     transform="translate(-10.139648,-22)">
    <line
       x1="50"
       y1="60"
       x2="50"
       y2="407.26682"
       stroke="#333333"
       stroke-width="1.86351"
       marker-end="url(#arr-dark)"
       id="line33" />
    <line
       x1="44"
       y1="80"
       x2="56"
       y2="80"
       stroke="#333333"
       stroke-width="1.5"
       id="line37" />
    <text
       x="10"
       y="84"
       fill="#555555"
       font-size="11px"
       id="text39">0</text>
    <line
       x1="44"
       y1="150"
       x2="56"
       y2="150"
       stroke="#333333"
       stroke-width="1.5"
       id="line41" />
    <text
       x="10"
       y="154"
       fill="#555555"
       font-size="11px"
       id="text43">1</text>
    <line
       x1="44"
       y1="230"
       x2="56"
       y2="230"
       stroke="#333333"
       stroke-width="1.5"
       id="line45" />
    <text
       x="10"
       y="234"
       fill="#555555"
       font-size="11px"
       id="text47">2</text>
    <line
       x1="44"
       y1="310"
       x2="56"
       y2="310"
       stroke="#333333"
       stroke-width="1.5"
       id="line49" />
    <text
       x="10"
       y="314"
       fill="#555555"
       font-size="11px"
       id="text51">3</text>
    <line
       x1="44"
       y1="390"
       x2="56"
       y2="390"
       stroke="#333333"
       stroke-width="1.5"
       id="line53" />
    <text
       x="10"
       y="394"
       fill="#555555"
       font-size="11px"
       id="text55">4</text>
    <line
       x1="56"
       y1="79.880875"
       x2="676.06989"
       y2="79.880875"
       stroke="#dddddd"
       stroke-width="1"
       stroke-dasharray="4, 4"
       id="line57" />
    <line
       x1="56"
       y1="150"
       x2="676.12598"
       y2="150"
       stroke="#dddddd"
       stroke-width="1"
       stroke-dasharray="4, 4"
       id="line59" />
    <line
       x1="56"
       y1="230"
       x2="676.07489"
       y2="230"
       stroke="#dddddd"
       stroke-width="1"
       stroke-dasharray="4, 4"
       id="line61" />
    <line
       x1="56"
       y1="310"
       x2="676.11066"
       y2="310"
       stroke="#dddddd"
       stroke-width="1"
       stroke-dasharray="4, 4"
       id="line63" />
    <line
       x1="56"
       y1="390"
       x2="675.77856"
       y2="390"
       stroke="#dddddd"
       stroke-width="1"
       stroke-dasharray="4, 4"
       id="line65" />
    <rect
       x="100"
       y="22"
       width="100"
       height="30"
       rx="6"
       fill="#4a90d9"
       id="rect67" />
    <text
       x="150"
       y="43"
       text-anchor="middle"
       fill="#ffffff"
       font-weight="bold"
       font-size="13px"
       id="text69">Agent A</text>
    <rect
       x="320"
       y="22"
       width="100"
       height="30"
       rx="6"
       fill="#e07b39"
       id="rect71" />
    <text
       x="370"
       y="43"
       text-anchor="middle"
       fill="#ffffff"
       font-weight="bold"
       font-size="13px"
       id="text73">Agent B</text>
    <rect
       x="540"
       y="22"
       width="100"
       height="30"
       rx="6"
       fill="#5ab05a"
       id="rect75" />
    <text
       x="590"
       y="43"
       text-anchor="middle"
       fill="#ffffff"
       font-weight="bold"
       font-size="13px"
       id="text77">Agent C</text>
    <circle
       cx="150"
       cy="80"
       r="9"
       fill="#4a90d9"
       id="circle83" />
    <text
       x="150"
       y="84"
       text-anchor="middle"
       fill="#ffffff"
       font-size="9px"
       font-weight="bold"
       id="text85">A</text>
    <line
       x1="150"
       y1="89"
       x2="150"
       y2="301"
       stroke="#4a90d9"
       stroke-width="2.5"
       marker-end="url(#arr-blue)"
       id="line87" />
    <circle
       cx="150"
       cy="310"
       r="9"
       fill="#4a90d9"
       id="circle89" />
    <text
       x="150"
       y="314"
       text-anchor="middle"
       fill="#ffffff"
       font-size="9px"
       font-weight="bold"
       id="text91">A</text>
    <text
       x="165"
       y="122"
       fill="#4a90d9"
       font-size="10px"
       id="text93">step t=1</text>
    <text
       x="165"
       y="230"
       fill="#4a90d9"
       font-size="10px"
       id="text95">step t=2</text>
    <circle
       cx="370"
       cy="80"
       r="9"
       fill="#e07b39"
       id="circle99" />
    <text
       x="370"
       y="84"
       text-anchor="middle"
       fill="#ffffff"
       font-size="9px"
       font-weight="bold"
       id="text101">B</text>
    <line
       x1="370"
       y1="89"
       x2="370"
       y2="221"
       stroke="#e07b39"
       stroke-width="2.5"
       marker-end="url(#arr-orange)"
       id="line103" />
    <circle
       cx="370"
       cy="230"
       r="9"
       fill="#e07b39"
       id="circle105" />
    <text
       x="370"
       y="234"
       text-anchor="middle"
       fill="#ffffff"
       font-size="9px"
       font-weight="bold"
       id="text107">B</text>
    <text
       x="385"
       y="122"
       fill="#e07b39"
       font-size="10px"
       id="text109">step t=1</text>
    <text
       x="385"
       y="188"
       fill="#e07b39"
       font-size="10px"
       id="text111">step t=2</text>
    <circle
       cx="590"
       cy="80"
       r="9"
       fill="#5ab05a"
       id="circle113" />
    <text
       x="590"
       y="84"
       text-anchor="middle"
       fill="#ffffff"
       font-size="9px"
       font-weight="bold"
       id="text115">C</text>
    <line
       x1="590"
       y1="89"
       x2="590"
       y2="301"
       stroke="#5ab05a"
       stroke-width="2.5"
       marker-end="url(#arr-green)"
       id="line117" />
    <circle
       cx="590"
       cy="310"
       r="9"
       fill="#5ab05a"
       id="circle119" />
    <text
       x="590"
       y="314"
       text-anchor="middle"
       fill="#ffffff"
       font-size="9px"
       font-weight="bold"
       id="text121">C</text>
    <text
       x="609.48663"
       y="195.43846"
       fill="#5ab05a"
       font-size="10px"
       id="text123">step t=1</text>
    <circle
       cx="150"
       cy="150"
       r="10"
       fill="#4a90d9"
       stroke="#ffffff"
       stroke-width="2"
       id="circle191" />
    <text
       x="150"
       y="154"
       text-anchor="middle"
       fill="#ffffff"
       font-size="9px"
       font-weight="bold"
       id="text193">A</text>
    <circle
       cx="370"
       cy="150"
       r="10"
       fill="#e07b39"
       stroke="#ffffff"
       stroke-width="2"
       id="circle195" />
    <text
       x="370"
       y="154"
       text-anchor="middle"
       fill="#ffffff"
       font-size="9px"
       font-weight="bold"
       id="text197">B</text>
    <rect
       x="63.093441"
       y="75.093163"
       width="21.813143"
       height="234.32346"
       rx="3.9660261"
       fill="none"
       stroke="#4a90d9"
       stroke-width="1.18663"
       stroke-dasharray="3, 2"
       id="rect235" />
    <text
       x="71.637978"
       y="173.95609"
       fill="#4a90d9"
       font-size="9px"
       writing-mode="tb-rl"
       id="text237">fast run</text>
    <circle
       cx="370"
       cy="310"
       r="9"
       fill="#e07b39"
       id="circle105-3" />
    <text
       x="370"
       y="314"
       text-anchor="middle"
       fill="#ffffff"
       font-size="9px"
       font-weight="bold"
       id="text107-6">B</text>
    <line
       x1="370"
       y1="238.2458"
       x2="370"
       y2="299.67322"
       stroke="#e07b39"
       stroke-width="1.70543"
       marker-end="url(#arr-orange-7)"
       id="line103-3"
       style="marker-end:url(#arr-orange-7)" />
    <text
       x="385"
       y="272.13858"
       fill="#e07b39"
       font-size="10px"
       id="text111-5">step t=3</text>
  </g>
  <g
     inkscape:groupmode="layer"
     id="layer2"
     inkscape:label="rollback &lt;2&gt;"
     style="display:inline"
     transform="translate(-10.139648,-22)"
     sodipodi:insensitive="true">
    <line
       x1="577.55975"
       y1="310.12378"
       x2="388.84473"
       y2="309.4025"
       stroke="#cc2222"
       stroke-width="1.93561"
       stroke-dasharray="6, 3"
       marker-end="url(#arr-red)"
       id="line143" />
    <rect
       x="424.22757"
       y="293.51654"
       width="118"
       height="34"
       rx="5"
       fill="#fff0f0"
       stroke="#cc2222"
       stroke-width="1.5"
       id="rect145" />
    <text
       x="483.22757"
       y="306.51654"
       text-anchor="middle"
       fill="#cc2222"
       font-size="10px"
       font-weight="bold"
       id="text147">Late message</text>
    <text
       x="483.22757"
       y="320.51654"
       text-anchor="middle"
       fill="#cc2222"
       font-size="10px"
       id="text149">timestamp t = 1</text>
    <rect
       x="309.40375"
       y="336.6619"
       width="118"
       height="34"
       rx="5"
       fill="#fff0f0"
       stroke="#cc2222"
       stroke-width="1.5"
       id="rect155" />
    <text
       x="368.40375"
       y="349.6619"
       text-anchor="middle"
       fill="#cc2222"
       font-size="10px"
       font-weight="bold"
       id="text157">Causality</text>
    <text
       x="368.40375"
       y="363.6619"
       text-anchor="middle"
       fill="#cc2222"
       font-size="10px"
       id="text159">violation at B!</text>
    <rect
       x="340.30429"
       y="150.30431"
       width="59.391392"
       height="159.7079"
       rx="3.9594262"
       fill="url(#cancel-hatch)"
       stroke="#cc2222"
       stroke-width="2.10861"
       stroke-dasharray="4, 3"
       opacity="0.7"
       id="rect163"
       style="fill:url(#pattern7614)" />
    <text
       x="368.95441"
       y="249.67603"
       text-anchor="middle"
       fill="#cc2222"
       font-size="10px"
       font-weight="bold"
       id="text165">cancelled</text>
    <text
       x="-247.81085"
       y="410.60205"
       fill="#cc2222"
       font-size="10px"
       font-weight="bold"
       transform="rotate(-90)"
       id="text169">rollback</text>
    <line
       x1="362.52051"
       y1="232.43501"
       x2="164.76622"
       y2="305.00919"
       stroke="#cc2222"
       stroke-width="1.80422"
       stroke-dasharray="4, 3"
       marker-end="url(#arr-red)"
       id="line183" />
    <rect
       x="200.52428"
       y="252.51421"
       width="115"
       height="28"
       rx="5"
       fill="#fff0f0"
       stroke="#cc2222"
       stroke-width="1.2"
       id="rect185" />
    <text
       x="257.52429"
       y="263.51419"
       text-anchor="middle"
       fill="#cc2222"
       font-size="10px"
       font-weight="bold"
       id="text187">cascade rollback</text>
    <text
       x="257.52429"
       y="275.51419"
       text-anchor="middle"
       fill="#cc2222"
       font-size="10px"
       id="text189">notified to A</text>
    <rect
       x="120.30199"
       y="150.7041"
       width="59.39603"
       height="158.99391"
       rx="3.9597352"
       fill="url(#cancel-hatch)"
       stroke="#cc2222"
       stroke-width="2.10397"
       stroke-dasharray="4, 3"
       opacity="0.7"
       id="rect175"
       style="fill:url(#pattern7697)" />
    <text
       x="-249.92226"
       y="114.09328"
       fill="#cc2222"
       font-size="10px"
       font-weight="bold"
       transform="rotate(-90)"
       id="text181">rollback</text>
    <circle
       cx="369.88422"
       cy="310.72977"
       r="14"
       fill="#fff0f0"
       stroke="#cc2222"
       stroke-width="2"
       id="circle151" />
    <circle
       cx="369.33945"
       cy="150.92976"
       r="14"
       fill="#fff0f0"
       stroke="#cc2222"
       stroke-width="2"
       id="circle151-6"
       style="display:inline" />
  </g>
</svg>
